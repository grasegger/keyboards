points:
  zones:
    matrix:
      columns:
        pinky:
          rows:
            home:
              column_net: P5
            reset: 
              column_net: RST
            
        ring:
          spread: u
          stagger: u/2
          rows:
            bottom:
              column_net: P6
            home:
              column_net: P2
      
        middle:
          spread: u
          stagger: u/4
          rows:
            bottom:
              column_net: P7
            home:
              column_net: P3
              bind: [0, 2u +7, 2u + u/4 + u/2, 2u +7]
    
        index:
          spread: u
          stagger: -u/2
          rows:
            bottom:
              column_net: P8
            home:
              column_net: P4
                

        inner:
          spread: u + u/6
          rotate: -30
          stagger: -2u + u/2
          rows:
            thumb:
              column_net: P9
              
      key:
        footprints:
          mx:
            type: mx
            nets:
              from: =column_net
              to: GND
            params:
                hotswap: true
                keycaps: true
                reverse: true


outlines:
  exports:
    raw:
      - type: keys
        side: left
        size: [14 , 14]
        corner: 0
        bound: true
    panel:
      - type: outline
        name: raw
        fillet: 0
    pcbkeys:
      - type: keys
        side: left
        size: [u,u]
        corner: 0
      
    pcb:
      - type: outline
        fillet: 2
        name: pcbkeys

    top_plate:
      - type: outline
        name: pcb
        fillet: 1
      - type: keys
        side: left
        operation: subtract
        bound: false
        size:  [14, 14]

    final:
      - type: outline
        name: pcb
        fillet: 1

      - type: rectangle
        operation: subtract
        size: [3, 10]
        anchor:
          shift: [88.5+2, -10]

      - type: circle
        operation: subtract
        radius: 1.55
        anchor:
          shift: [-13.5, 39.5]
      - type: circle
        operation: subtract
        radius: 1.55
        anchor:
          shift: [89.5, 39.5]
      - type: circle
        operation: subtract
        radius: 1.55
        anchor:
          shift: [-13.5, -25.5]
      - type: circle
        operation: subtract
        radius: 1.55
        anchor:
          shift: [89.5, -12.5]

pcbs:
  lasagna_shield:
    outlines:
      top_plate:
        outline: top_plate
     
  lasagna:
    outlines:
      - outline: final
    footprints:
      on_off:
        type: slider
        anchor:
          shift: [88.5, -5]
          rotate: -90
        params:
          side: B
        nets:
          from: BATPSWITCH
          to: RAW
      on_off_two:
        type: slider
        anchor:
          shift: [88.5, -5]
          rotate: -90
        params:
          side: F
        nets:
          from: BATPSWITCH
          to: RAW
      battery_connector:
        type: jstph
        anchor:
          rotate: 90
          shift: [0, -14]
          ref: matrix_pinky_home
        params:
          side: F
        nets:
          pos: BATPSWITCH
          neg: GND
      puck:
        type: puck
        anchor:
          shift: [u/2, -u/6] 
          rotate: -0
          ref: matrix_middle_bottom
      mcu:
        type: promicro
        anchor:
          shift: [75, 23.5]
          rotate: -90
        params:
          orientation: down
      mcu_two:
        type: promicro
        anchor:
          shift: [78, 23.5]
          rotate: -90
        params:
          orientation: up
      bat:
        type: lp502030
        anchor:
          shift: [28, -11.5]
    
